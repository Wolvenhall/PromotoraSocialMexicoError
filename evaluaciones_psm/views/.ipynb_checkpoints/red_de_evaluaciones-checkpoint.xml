<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <record id="view_hr_appraisal_form_inherit" model="ir.ui.view">
        <field name="name">view.hr.appraisal.form.inherit</field>
        <field name="model">hr.appraisal</field>
        <field name="inherit_id" ref="hr_appraisal.view_hr_appraisal_form"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='date_close']" position="after">
                <field name="red_de_evaluacion"/>
            </xpath>
            <xpath expr="//field[@name='employee_id']" position="attributes">
                <attribute name="attrs">{}</attribute>
                <attribute name="string">A evaluar</attribute>
            </xpath>
            <xpath expr="//field[@name='manager_ids']" position="attributes">
                <attribute name="attrs">{}</attribute>
                <attribute name="string">Jefes</attribute>
            </xpath>
            <xpath expr="//field[@name='collaborators_ids']" position="attributes">
                <attribute name="attrs">{}</attribute>
                <attribute name="string">Reportes Directos</attribute>
            </xpath>
            <xpath expr="//field[@name='colleagues_ids']" position="attributes">
                <attribute name="attrs">{}</attribute>
                <attribute name="string">Pares y CI</attribute>
            </xpath>
            
            <xpath expr="//field[@name='employee_body_html']" position="attributes">
                <attribute name="attrs">{}</attribute>
                <attribute name="string">Al Colaborador</attribute>
            </xpath>
            <xpath expr="//field[@name='manager_body_html']" position="attributes">
                <attribute name="attrs">{}</attribute>
                <attribute name="string">Al Jefe</attribute>
            </xpath>
            <xpath expr="//field[@name='colleagues_body_html']" position="attributes">
                <attribute name="attrs">{}</attribute>
                <attribute name="string">A los Pares y CI</attribute>
            </xpath>
            <xpath expr="//field[@name='collaborators_body_html']" position="attributes">
                <attribute name="attrs">{}</attribute>
                <attribute name="string">A Reportes Directos</attribute>
            </xpath>
        </field>
    </record>

    <!--Tree view-->
    <record id="red_de_evaluaciones_tree_view" model="ir.ui.view">
        <field name="name">red.de.evaluaciones.tree</field>
        <field name="model">red.de.evaluaciones</field>
        <field name="arch" type="xml">
            <tree string="Red de Evaluaciones">
                <field name="nombre"/>
                <field name="descripcion"/>
                <field name="fecha_inicio"/>
                <field name="fecha_limite"/>
            </tree>
        </field>
    </record>

    <!--Form view-->
    <record id="red_de_evaluaciones_form_view" model="ir.ui.view">
        <field name="name">red.de.evaluaciones.form</field>
        <field name="model">red.de.evaluaciones</field>
        <field name="arch" type="xml">
            <form string="Red de Evaluaciones">
                <sheet>
                    <div class="oe_button_box">                        
                        <button string="Generar Red" name="generar_lista" type="object"
                                class="btn btn-primary o_form_button_edit" style="margin: 5px; float: left;" attrs="{'invisible': [['x_conteo_colaboradores','>','0']]}"/>
                        <button string="Limpiar Red" name="limpiar_lista" type="object"
                                class="btn btn-primary o_form_button_edit" style="margin: 5px; float: left;" attrs="{'invisible': [['x_conteo_colaboradores','=','0']]}"/>
                        <button string="Generar Encuestas" name="generar_encuestas" type="object"
                                class="btn btn-primary o_form_button_edit" style="margin: 5px; float: left;" attrs="{'invisible': [['x_conteo_colaboradores','=','0']]}"/>
                        <button name="muestra_colaboradores" class="oe_stat_button" icon="fa-tag" type="object">
                            <field name="x_conteo_colaboradores" widget="statinfo"/>
                        </button>
                        <button name="muestra_evaluaciones" class="oe_stat_button" icon="fa-tag" type="object">
                            <field name="x_conteo_evaluaciones" widget="statinfo"/>
                        </button>
                    </div> 
                    <group style="text-align: center;">
                        <h2 style="margin: 10px 0 0 0;">
                            <field name="nombre" placeholder="Nombre de la red"/>
                        </h2>
                    </group>
                    <group style="text-align: center;">
                        <h4>
                            <field name="descripcion" placeholder="Breve descripción de la red"/>
                        </h4>
                    </group>
                    <group style="text-align: center;">
                        <h4 style="background: #f4f4f4; border-radius: 15px;">ENCUESTAS</h4>
                    </group>
                    <group>
                        <group>                            
                            <field name="autoevaluacion"/>
                            <field name="autoevaluacion_liderazgo"/>                                          
                        </group>
                        <group>                            
                            <field name="general"/>
                            <field name="liderazgo"/>              
                        </group>
                    </group>
                    <group style="text-align: center;">
                        <h4 style="background: #f4f4f4; border-radius: 15px;">CONFIGURACIONES</h4>
                    </group>
                    <group>
                        <group>   
                            <field name="fecha_inicio"/>
                            <field name="fecha_limite"/>                            
                        </group>
                        <group>                            
                            <field name="jefe_directo"/>
                            <field name="companeros"/>
                            <field name="reportes_directos"/>
                        </group>
                    </group>                    
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>

    <!--Action asociada menu-->
    <record id="action_red_de_evaluaciones" model="ir.actions.act_window">
        <field name="name">Red de Evaluaciones</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">red.de.evaluaciones</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Crea tu primer Red de Evaluaciones
            </p>
        </field>
    </record>

    <menuitem
            id="menu_red_de_evaluaciones"
            name="Red de Evaluaciones"
            parent="hr_appraisal.menu_hr_appraisal_root"
            action="action_red_de_evaluaciones"
            sequence="0"
    />

    <!--    <menuitem-->
    <!--            id="evaluaciones_cedula_asociada"-->
    <!--            name="Cédula Patrimonial de Asociadas"-->
    <!--            parent="inversiones_cedula"-->
    <!--            action="action_cedula_asociada"-->
    <!--    />-->
</odoo>
