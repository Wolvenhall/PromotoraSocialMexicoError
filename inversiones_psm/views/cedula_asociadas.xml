<?xml version="1.0" encoding="utf-8" ?>
<odoo>
    <!--Tree view-->
    <record id="cedula_asociada_tree_view" model="ir.ui.view">
        <field name="name">cedula.asociada.tree</field>
        <field name="model">inversion.cedula.asociada</field>
        <field name="arch" type="xml">
            <tree string="Asociadas">
                <field name="asociada"/>
            </tree>
        </field>
    </record>

    <!--Form view-->
    <record id="cedula_asociada_form_view" model="ir.ui.view">
        <field name="name">cedula.asociada.form</field>
        <field name="model">inversion.cedula.asociada</field>
        <field name="arch" type="xml">
            <form string="Asociadas">
                <sheet>
                    <div class="oe_button_box">
                        <button name="muestra_acciones" class="oe_stat_button" icon="fa-line-chart" type="object">
                            <field name="conteo_acciones" widget="statinfo"/>
                        </button>
                        <button name="muestra_fondos" class="oe_stat_button" icon="fa-area-chart" type="object">
                            <field name="conteo_fondos" widget="statinfo"/>
                        </button>
                    </div>
                    <group>
                        <group>
                            <h3>
                                <field name="asociada" placeholder="Asociada"/>
                            </h3>
                        </group>
                    </group>
                    <notebook>
                        <page string="Acciones">
                            <field name="acciones_id" widget="section_and_note_one2many">
                                <tree editable="buttom">
                                    <field name="asociada_id"/>
                                    <field name="acciones_id" class="text_left color_grey"
                                           context="{'default_asociada_id': asociada_id}"/>
                                    <field name="egreso"/>
                                    <field name="movimiento"/>
                                    <field name="acto"/>

                                    <field name="documento"/>
                                    <field name="fecha_del_documento"/>
                                    <field name="documento_legal_firmado"/>

                                    <field name="acciones_capital_fijo"/>
                                    <field name="acciones_capital_variable"/>
                                    <field name="acciones_totales" class="color_grey"/>
                                    <field name="aumento_capital_fijo"/>
                                    <field name="aumento_capital_variable"/>

                                    <field name="acciones_totales_final" class="color_grey"/>
                                    <field name="acciones_suscritas_psm"/>
                                    <field name="acciones_totales_psm" class="color_grey"/>
                                    <field name="monto_invertido_psm"/>
                                    <field name="fecha_de_pago"/>
                                    <field name="porcentaje_de_participacion" class="color_green"/>

                                    <field name="comentarios"/>

                                </tree>
                            </field>
                        </page>
                        <page string="Fondos">
                            <field name="fondos_id">
                                <tree editable="top">
                                    <field name="fondos_id"/>
                                    <field name="movimiento"/>
                                    <!--                                    <field name="acto"/>-->
                                    <field name="fecha"/>

                                    <field name="capital_total_comprometido"/>
                                    <field name="capital_comprometido_psm"/>
                                    <!--                                    <field name="capital_call_psm_usd"/>-->
                                    <field name="monto_transferido_por_psm_usd"/>
                                    <!--                                    <field name="tipo_de_cambio"/>-->

                                    <field name="monto_invertido_por_psm_mxn"/>
                                    <!--                                    <field name="fechadepago"/>-->
                                    <field name="porcentaje_de_participacion"/>

                                    <!--                                    <field name="comentarios"/>-->

                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>

    <!--Action asociada menu-->
    <record id="action_cedula_asociada" model="ir.actions.act_window">
        <field name="name">Cédula Patrimonial de Asociadas</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">inversion.cedula.asociada</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Crea tu primer registro de la Cédula Patrimonial de Asociadas
            </p>
        </field>
    </record>

    <menuitem
            id="inversiones_root"
            name="Inversiones"
            web_icon="inversiones_psm,static/description/icon.png"
            sequence="0"/>

    <menuitem
            id="inversiones_cedula"
            name="Cédula Patrimonial de Asociadas"
            parent="inversiones_root"
    />

    <menuitem
            id="inversiones_asociada"
            name="Cédula Patrimonial de Asociadas"
            parent="inversiones_root"
            action="action_cedula_asociada"
    />
</odoo>
